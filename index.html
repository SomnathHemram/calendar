<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Black Box Calendar with Swipe Navigation</title>
<style>
  :root{
    --box-bg:#0b0b0b;
    --accent:#1e90ff;
    --muted:#888;
    --card-radius:14px;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;}
  body{
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(180deg,#0f1724,#071021);
    padding:24px;
    color:#e6eef8;
  }

  /* Black box container */
  .blackbox {
    background: var(--box-bg);
    border-radius: var(--card-radius);
    box-shadow: 0 10px 30px rgba(2,6,23,0.7), inset 0 1px 0 rgba(255,255,255,0.02);
    width: 340px;
    padding: 18px;
    border: 1px solid rgba(255,255,255,0.03);
    touch-action: pan-y; /* allow vertical pan for swipe */
    user-select: none; /* avoid text selection while swiping */
  }

  .header {
    display:flex;
    align-items:center;
    justify-content:center; /* center month label */
    gap:12px;
    margin-bottom:12px;
  }
  .month {
    font-size:18px;
    font-weight:600;
    letter-spacing:0.2px;
  }
  /* controls removed */

  .weekday-row {
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:6px;
    margin-bottom:8px;
    color:var(--muted);
    font-size:12px;
    text-align:center;
  }

  .days-grid {
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:8px;
  }

  .day {
    min-height:42px;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding:6px 4px;
    border-radius:10px;
    font-size:13px;
    color:#dbeafe;
    position:relative;
  }

  .day.inactive { color: rgba(255,255,255,0.22); }

  .day .num {
    width:28px;
    height:28px;
    display:flex;
    align-items:center;
    justify-content:center;
    border-radius:8px;
  }

  .day.today .num{
    background: linear-gradient(180deg,var(--accent),#0a62b8);
    color:white;
    box-shadow: 0 6px 18px rgba(30,144,255,0.12);
    font-weight:600;
  }

  .day.event::after{
    content: '';
    position:absolute;
    bottom:6px;
    width:6px;
    height:6px;
    border-radius:50%;
    background:var(--accent);
  }

  /* Small responsive tweak */
  @media (max-width:380px){
    .blackbox{width:100%; padding:14px;}
  }
</style>
</head>
<body>
  <div class="blackbox" role="application" aria-label="Calendar in a black box">
    <div class="header">
      <div class="month" id="monthLabel">Month Year</div>
    </div>

    <div class="weekday-row" aria-hidden="true">
      <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
    </div>

    <div class="days-grid" id="daysGrid" aria-live="polite"></div>
  </div>

<script>
(function(){
  const monthLabel = document.getElementById('monthLabel');
  const daysGrid = document.getElementById('daysGrid');
  const blackbox = document.querySelector('.blackbox');

  // start with current date
  let view = new Date();
  view.setHours(0,0,0,0);

  // Example small events map (dateKey -> true). You can replace with dynamic events.
  const events = {};
  // Put a demo event on the 10th of current month:
  const demoKey = new Date(view.getFullYear(), view.getMonth(), 10).toDateString();
  events[demoKey] = true;

  function render(){
    daysGrid.innerHTML = '';
    const year = view.getFullYear();
    const month = view.getMonth();

    // set label
    monthLabel.textContent = view.toLocaleString(undefined, { month: 'long', year: 'numeric' });

    // first day of month
    const firstOfMonth = new Date(year,month,1);
    const startDay = firstOfMonth.getDay(); // 0..6 (Sun..Sat)

    // days in month
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    // previous month days (to show inactive)
    const prevMonthDays = new Date(year, month, 0).getDate();

    // Build 6 rows x 7 = 42 cells (always enough)
    for (let i=0;i<42;i++){
      const cell = document.createElement('div');
      cell.className = 'day';
      let cellDate;
      // Determine the day number and which month it belongs to
      const dayIndex = i - startDay + 1;
      if (i < startDay){
        // previous month
        const d = prevMonthDays - (startDay - 1 - i);
        cell.classList.add('inactive');
        cellDate = new Date(year, month -1, d);
        cell.innerHTML = '<div class="num">'+ d +'</div>';
      } else if (dayIndex > daysInMonth){
        // next month
        const d = dayIndex - daysInMonth;
        cell.classList.add('inactive');
        cellDate = new Date(year, month +1, d);
        cell.innerHTML = '<div class="num">'+ d +'</div>';
      } else {
        // current month
        const d = dayIndex;
        cellDate = new Date(year, month, d);
        const num = document.createElement('div');
        num.className = 'num';
        num.textContent = d;
        cell.appendChild(num);
      }

      // Mark today
      const today = new Date();
      today.setHours(0,0,0,0);
      if (cellDate.getTime() === today.getTime()){
        cell.classList.add('today');
      }

      // Add demo event dot if exists
      const key = cellDate.toDateString();
      if (events[key]) cell.classList.add('event');

      // click handler example
      cell.addEventListener('click', ()=> {
        const label = cellDate.toDateString();
        const isEvent = !!events[key];
        alert(label + (isEvent ? ' — You have an event' : ' — No events'));
      });

      daysGrid.appendChild(cell);
    }
  }

  // Swipe gesture detection
  let startY = 0;
  let endY = 0;
  const threshold = 30; // minimum px to consider a swipe

  blackbox.addEventListener('touchstart', e => {
    startY = e.touches[0].clientY;
  });

  blackbox.addEventListener('touchend', e => {
    endY = e.changedTouches[0].clientY;
    const diff = endY - startY;

    if (Math.abs(diff) > threshold) {
      if (diff < 0) {
        // Swipe up → Next month
        view = new Date(view.getFullYear(), view.getMonth() + 1, 1);
        render();
      } else {
        // Swipe down → Previous month
        view = new Date(view.getFullYear(), view.getMonth() - 1, 1);
        render();
      }
    }
  });

  // Initial render
  render();
})();
</script>
</body>
</html>
